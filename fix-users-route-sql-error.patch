diff --git a/src/app/api/users/route.ts b/src/app/api/users/route.ts
--- a/src/app/api/users/route.ts
+++ b/src/app/api/users/route.ts
@@ -60,16 +60,45 @@ export async function GET(req: Request) {
     const url = new URL(req.url);
     const q = url.searchParams.get("q") ?? "";
     const limit = Number(url.searchParams.get("limit") ?? 10);
-
-    const conditions = [];
-    if (q) {
-      const likePattern = `%${q}%`;
-      conditions.push(
-        or(
-          like(users.full_name, likePattern),
-          like(users.email, likePattern)
-        )
-      );
-    }
-
-    const usersList = await db
-      .select()
-      .from(users)
-      .where(conditions.length > 0 ? and(...conditions) : undefined)
-      .orderBy(desc(users.created_at))
-      .limit(limit);
+    // --- FIX: safely build search conditions ---
+    const conditions: any[] = [];
+    const searchTerm = typeof q === "string" ? q.trim() : "";
+
+    if (searchTerm.length > 0) {
+      const likePattern = `%${searchTerm}%`;
+      conditions.push(
+        or(
+          users.full_name.like(likePattern),
+          users.email.like(likePattern)
+        )
+      );
+    }
+
+    // Add any role/institution filters here if needed
+    // Example:
+    // const role = url.searchParams.get("role");
+    // if (role) conditions.push(eq(users.role, role));
+
+    let query = db
+      .select()
+      .from(users)
+      .orderBy(desc(users.created_at))
+      .limit(limit);
+
+    if (conditions.length > 0) {
+      query = query.where(and(...conditions));
+    }
+
+    const usersList = await query;
+
+    return new Response(
+      JSON.stringify({
+        success: true,
+        count: usersList.length,
+        data: usersList
+      }),
+      { status: 200 }
+    );
   } catch (error) {
     console.error("GET /api/users failed:", error);
     return new Response(JSON.stringify({ error: "Internal Server Error" }), { status: 500 });
